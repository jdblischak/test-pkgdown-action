<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Reproducible research with workflowr • workflowr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Reproducible research with workflowr">
<meta property="og:description" content="workflowr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">workflowr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.6.2.9005</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../articles/wflow-01-getting-started.html">Getting started</a>
</li>
<li>
  <a href="../articles/wflow-05-faq.html">FAQ</a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jdblischak/workflowr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Reproducible research with workflowr</h1>
            <h3 data-toc-skip class="subtitle">workflowr version 1.6.2.9005</h3>
                        <h4 data-toc-skip class="author">John Blischak</h4>
            
            <h4 data-toc-skip class="date">2021-12-01</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/jdblischak/workflowr/blob/HEAD/vignettes/wflow-09-workshop.Rmd" class="external-link"><code>vignettes/wflow-09-workshop.Rmd</code></a></small>
      <div class="hidden name"><code>wflow-09-workshop.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <a href="https://github.com/jdblischak/workflowr" class="external-link">workflowr</a> R package makes it easier for you to organize, reproduce, and share your data analyses. This short tutorial will introduce you to the workflowr framework. You will create a workflowr project that implements a small data analysis in R, and by the end you will have a working website that you can use to share your work. If you are completing this tutorial as part of a live workshop, please follow the <a href="#setup">setup instructions</a> in the next section prior to arriving.</p>
<p>Workflowr combines literate programming with <a href="http://rmarkdown.rstudio.com/" class="external-link">R Markdown</a> and version control with <a href="https://git-scm.com/" class="external-link">Git</a> to generate a website containing time-stamped, versioned, and documented results. By the end of this tutorial, you will have a website hosted on <a href="https://pages.github.com/" class="external-link">GitHub Pages</a> that contains the results of a reproducible statistical analysis.</p>
</div>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<ol style="list-style-type: decimal">
<li><p>Install <a href="https://cran.r-project.org" class="external-link">R</a></p></li>
<li><p>Install <a href="https://www.rstudio.com/products/rstudio/download/" class="external-link">RStudio</a></p></li>
<li>
<p>Install workflowr from <a href="https://cran.r-project.org/package=workflowr" class="external-link">CRAN</a>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"workflowr"</span><span class="op">)</span></code></pre></div>
</li>
<li><p>Create an account on <a href="https://github.com" class="external-link">GitHub</a></p></li>
</ol>
<p>To minimize the possibility of any potential issues with your computational setup, you are encouraged to update your version of RStudio (<code>Help</code> -&gt; <code>Check for Updates</code>) and update your R packages:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/update.packages.html" class="external-link">update.packages</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>If you do encounter any issues during the tutorial, consult the <a href="#troubleshooting">Troubleshooting</a> section for solutions to the most common problems.</p>
</div>
<div class="section level2">
<h2 id="organize-your-research">Organize your research<a class="anchor" aria-label="anchor" href="#organize-your-research"></a>
</h2>
<p>To help you stay organized, workflowr creates a project directory with the necessary configuration files as well as subdirectories for saving data and other project files. This tutorial uses the <a href="https://rstudio.github.io/rstudio-extensions/rstudio_project_templates.html" class="external-link">RStudio project template</a> for workflowr, but note that the same can be achieved via the function <code><a href="../reference/wflow_start.html">wflow_start()</a></code>.</p>
<p>To start your workflowr project, follow these steps:</p>
<ol style="list-style-type: decimal">
<li><p>Open RStudio.</p></li>
<li>
<p>In the R console, run <code><a href="../reference/wflow_git_config.html">wflow_git_config()</a></code> to register your name and email with Git. This only has to be done once per computer. If you’ve used Git on this machine before, you can skip this step. For a better GitHub experience, use the same email you used to register your GitHub account.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jdblischak/workflowr" class="external-link">workflowr</a></span><span class="op">)</span>
<span class="fu"><a href="../reference/wflow_git_config.html">wflow_git_config</a></span><span class="op">(</span>user.name <span class="op">=</span> <span class="st">"First Last"</span>, user.email <span class="op">=</span> <span class="st">"email@domain.com"</span><span class="op">)</span></code></pre></div>
</li>
<li><p>In the menu bar, choose <code>File</code> -&gt; <code>New Project</code>.</p></li>
<li>
<p>Choose <code>New Directory</code> and then scroll down the list of project types to select <code>workflowr project</code>. If you don’t see the workflowr project template, go to <a href="#missing-template">Troubleshooting</a>.</p>
<p><img src="img/rstudio-create-project.png" width="50%" style="display: block; margin: auto;"></p>
<p><img src="img/rstudio-project-type.png" width="50%" style="display: block; margin: auto;"></p>
</li>
<li>
<p>Type <code>myproject</code> as the directory name, choose where to save it on your computer, and choose <code>Create Project</code>.</p>
<p><img src="img/rstudio-workflowr-template.png" width="50%" style="display: block; margin: auto;"></p>
</li>
<li>
<p>RStudio executed <code><a href="../reference/wflow_start.html">wflow_start()</a></code> to create the workflowr project <code>myproject</code> and opened the project in RStudio. Note the workflowr directory structure in the Files pane.</p>
<pre><code>myproject/
|-- .gitignore
|-- .Rprofile
|-- _workflowr.yml
|-- analysis/
|   |-- about.Rmd
|   |-- index.Rmd
|   |-- license.Rmd
|   |-- _site.yml
|-- code/
|   |-- README.md
|-- data/
|   |-- README.md
|-- docs/
|-- myproject.Rproj
|-- output/
|   |-- README.md
|-- README.md</code></pre>
<p>The most important directory for you to pay attention to now is the <code>analysis/</code> directory. This is where you should store all your analyses as R Markdown (Rmd) files. Other directories created for your convenience include <code>data/</code> for storing data, and <code>code/</code> for storing long-running or supplemental code you don’t want to include in an Rmd file. Note that the <code>docs/</code> directory is where the website HTML files will be created and stored by workflowr, and should not be edited by the user.</p>
</li>
<li>
<p>In the R console, run <code><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd()</a></code> to return the current working directory. Note that it is set to the location of the workflowr project on your computer. Every time you open this RStudio project (e.g. by clicking on <code>myproject.Rproj</code>), it will change the working directory (as well as the Files pane) to this directory. This allows you to use relative paths to files when performing your analysis, which will make it easier for you and others to run the code on other machines. In other words, instead of writing an absolute path like:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"C:/Users/GraceHopper/myproject/data/raw.csv"</span><span class="op">)</span></code></pre></div>
<p>Instead you can write a relative path that will work for any user on any operating system:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"data/raw.csv"</span><span class="op">)</span></code></pre></div>
</li>
<li><p>Open the file <code>analysis/index.Rmd</code> for editing. It should already be open in the RStudio Editor pane from when you created the project. If not, use the Files pane to navigate to the directory <code>analysis/</code> and click on <code>index.Rmd</code> to open it for editing. This index file is special because it is used to create the home page for your project. Write a short introductory message, e.g. “Welcome to my first workflowr website”, and then save the file.</p></li>
<li><p>In the R console, run <code><a href="../reference/wflow_build.html">wflow_build()</a></code>. This will build all the R Markdown files in <code>analysis/</code><a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>, save them in <code>docs/</code>, and then open <code>docs/index.html</code> in the RStudio Viewer pane. Ignore the warnings in the workflowr report for now; we will return to these later.</p></li>
<li>
<p>To begin your analysis, you will use a built-in data set from R.<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> The data set <code>ToothGrowth</code> contains the length of the teeth for 60 guinea pigs given 3 different doses of vitamin C either via orange juice (<code>OC</code>) or directly with ascorbic acid (<code>VC</code>). To explore the data set, run the following in the R console.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"ToothGrowth"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ToothGrowth</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##       len        supp         dose      </span>
<span class="co">##  Min.   : 4.20   OJ:30   Min.   :0.500  </span>
<span class="co">##  1st Qu.:13.07   VC:30   1st Qu.:0.500  </span>
<span class="co">##  Median :19.25           Median :1.000  </span>
<span class="co">##  Mean   :18.81           Mean   :1.167  </span>
<span class="co">##  3rd Qu.:25.27           3rd Qu.:2.000  </span>
<span class="co">##  Max.   :33.90           Max.   :2.000</span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">ToothGrowth</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## 'data.frame':    60 obs. of  3 variables:</span>
<span class="co">##  $ len : num  4.2 11.5 7.3 5.8 6.4 10 11.2 11.2 5.2 7 ...</span>
<span class="co">##  $ supp: Factor w/ 2 levels "OJ","VC": 2 2 2 2 2 2 2 2 2 2 ...</span>
<span class="co">##  $ dose: num  0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 ...</span></code></pre>
</li>
<li>
<p>To mimic a real project that will have external data files, save the <code>ToothGrowth</code> data set to the <code>data/</code> subdirectory using <code><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv()</a></code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span><span class="va">ToothGrowth</span>, file <span class="op">=</span> <span class="st">"data/teeth.csv"</span><span class="op">)</span></code></pre></div>
</li>
</ol>
</div>
<div class="section level2">
<h2 id="create-reproducible-analyses">Create reproducible analyses<a class="anchor" aria-label="anchor" href="#create-reproducible-analyses"></a>
</h2>
<p>To demonstrate the reproducibility features of workflowr, you will perform a small analysis.</p>
<ol style="list-style-type: decimal">
<li>
<p>In the R console, open a new R Markdown file with <code><a href="../reference/wflow_open.html">wflow_open()</a></code>. It will open automatically for editing in RStudio.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/wflow_open.html">wflow_open</a></span><span class="op">(</span><span class="st">"analysis/teeth.Rmd"</span><span class="op">)</span></code></pre></div>
<p>Rmd files allow you to mix text, code, and results in the same output document (which can be HTML, PDF, Word, and more). In order to accomplish this, it uses a specific layout and syntax. At the top of the document between the dashes <code>---</code> is the YAML<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a> header that contains metadata about the document such as the title. Code chunks<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a> are specified using the syntax below:</p>
<pre><code>```{r optional-chunk-name}
&lt;code goes here&gt;
```</code></pre>
<p>And the code chunks are executed in order from top to bottom. Any text outside of a code chunk is interpreted as prose that should not be executed as R code.</p>
<p>The workflowr framework accepts any valid Rmd file that can be converted to HTML. In the YAML header, note that workflowr provides its own custom output format, <code><a href="../reference/wflow_html.html">workflowr::wflow_html</a></code>. This function extends the default output format <code>html_document</code> from the rmarkdown package, and thus accepts all the same arguments. The only other minor difference is that <code><a href="../reference/wflow_open.html">wflow_open()</a></code> adds the editor option <code>chunk_output_type: console</code>, which causes the code to be executed in the R console instead of within the document. If you’d prefer the results of the code chunks be embedded inside the document while you perform the analysis, you can delete those lines (note that this has no effect on the final results, only on the display within RStudio).</p>
</li>
<li>
<p>Copy the code chunk below and paste it at the bottom of the file <code>teeth.Rmd</code>. The code imports the data set from the file you previously created<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a>. Execute the code in the R console by clicking on the Run button or using the shortcut <code>Ctrl</code>/<code>CMD</code>+<code>Enter</code>.</p>
<pre><code>```{r import-teeth}
teeth &lt;- read.csv("data/teeth.csv", row.names = 1)
head(teeth)
```</code></pre>
<p>Note: if you copy and paste this chunk, make sure to remove any spaces before each of the backticks (<code>```</code>) so that they will be correctly recognized as indicating the beginning and end of a code chunk.</p>
</li>
<li>
<p>Next create some boxplots to explore the data. Copy the code chunk below and paste it at the bottom of the file <code>teeth.Rmd</code>. Execute the code to see create the plots.</p>
<pre><code>```{r boxplots}
boxplot(len ~ dose, data = teeth)
boxplot(len ~ supp, data = teeth)
boxplot(len ~ dose + supp, data = teeth)
```</code></pre>
</li>
<li>
<p>To compare the tooth length of the guinea pigs given orange juice versus those given vitamin C, you could perform a <a href="https://en.wikipedia.org/wiki/Resampling_%28statistics%29#Permutation_tests" class="external-link">permutation-based statistical test</a>. This involves comparing the observed difference in teeth length due to the supplement method to the observed differences calculated from random permutations of the data. The basic idea is that if the observed difference is an outlier compared to the differences generated after permuting the supplement method column, it is more likely to be a true signal not due to chance alone. Copy the code chunk below, paste it at the bottom of of the file <code>teeth.Rmd</code>, and execute it. It demonstrates the idea of a permutation<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a>:</p>
<pre><code>```{r permute}
# Observed difference in teeth length due to supplement method
mean(teeth$len[teeth$supp == "OJ"]) - mean(teeth$len[teeth$supp == "VC"])
# Permute the observations
supp_perm &lt;- sample(teeth$supp)
# Calculate mean difference in permuted data
mean(teeth$len[supp_perm == "OJ"]) - mean(teeth$len[supp_perm == "VC"])
```</code></pre>
</li>
<li><p>In the R console, run <code><a href="../reference/wflow_build.html">wflow_build()</a></code>. Note the value of the observed difference in the permuted data.</p></li>
<li>
<p>In RStudio, click on the Knit button. Has the value of the observed difference in the permuted data changed? It should be identical. This is because workflowr always sets the same seed prior to running the analysis.<a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a> To better understand this behavior as well as the other reproducibility safeguards and checks that workflowr performs for each analysis, click on the workflowr button at the top and select the “Checks” tab.</p>
<p><img src="img/workflowr-report-checks.png" width="75%" style="display: block; margin: auto;"></p>
</li>
<li>
<p>Navigate back to the file <code>analysis/index.Rmd</code>. If you closed it, you can open it from the Files pane or run the following in the R console:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/wflow_open.html">wflow_open</a></span><span class="op">(</span><span class="st">"analysis/index.Rmd"</span><span class="op">)</span></code></pre></div>
</li>
<li>
<p>Copy the line below and paste it at the bottom of the file <code>analysis/index.Rmd</code>. This creates a hyperlink to the tooth analysis. The text between the square brackets is displayed on the webpage, and the text in parentheses is the relative path to the teeth webpage. Note that you don’t need to include the subdirectory <code>docs/</code> because <code>index.html</code> and <code>teeth.html</code> are both already in <code>docs/</code>. Also note that you need to use the file extension <code>.html</code> since that is the file that needs to be opened by the web browser.</p>
<pre><code>* [Teeth growth](teeth.html)</code></pre>
</li>
<li><p>Run <code><a href="../reference/wflow_build.html">wflow_build()</a></code> and then confirm that clicking on the link “Teeth growth” takes you to your teeth analysis page.</p></li>
<li>
<p>In the R console, run <code><a href="../reference/wflow_status.html">wflow_status()</a></code>. This will show you the status of each of the Rmd files in your workflowr project. The status is determined by the Git status of the Rmd file and its corresponding HTML file. The file <code>teeth.Rmd</code> is classified as “Scratch” because it has not yet been committed (i.e. saved in a snapshot). In contrast, the file <code>index.Rmd</code> has status “Unpublished” because the Rmd file has been committed (an initial commit was made when the project was first started) but not its corresponding HTML file.</p>
<p><img src="img/status.png" width="50%" style="display: block; margin: auto;"></p>
</li>
<li>
<p>In the R console, run the command below to “publish” your results <a href="#fn8" class="footnote-ref" id="fnref8"><sup>8</sup></a>. The function <code><a href="../reference/wflow_publish.html">wflow_publish()</a></code> performs three steps: 1) commits the files, 2) rebuilds the Rmd files, and 3) commits the HTML and figure files. This guarantees that the results in each HTML file is always generated from an exact, known version of the Rmd file (you can see this version embedded in the workflowr report). The second argument is the message that is associated with the Git commit. This way you can better understand the motivation for each change that you made when you review the development history of your project (e.g. with <code>git log</code>).</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/wflow_publish.html">wflow_publish</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"analysis/*Rmd"</span>, <span class="st">"data/teeth.csv"</span><span class="op">)</span>, message <span class="op">=</span> <span class="st">"Analyze teeth growth"</span><span class="op">)</span></code></pre></div>
</li>
<li>
<p>Open the workflowr report of <code>teeth.html</code> by clicking on the button at the top of the page. Navigate to the tab “Past versions”. Note that the record of all past versions will be saved here. Once the project has been added to GitHub (you will do this in the next section), the “Past versions” tab will include hyperlinks for convenient viewing of the past versions of the Rmd and HTML files.</p>
<p><img src="img/workflowr-past-versions-1.png" width="75%" style="display: block; margin: auto;"></p>
</li>
</ol>
</div>
<div class="section level2">
<h2 id="share-your-results">Share your results<a class="anchor" aria-label="anchor" href="#share-your-results"></a>
</h2>
<p>To share your work, you will host the Git repository on GitHub and activate the free service GitHub Pages to serve the static website in <code>docs/</code>.</p>
<ol style="list-style-type: decimal">
<li>
<p>In the R console, run the function <code><a href="../reference/wflow_use_github.html">wflow_use_github()</a></code>. The only required argument is your GitHub username. The name of the repository will automatically be named the same as the directory containing the workflowr project, in this case “myproject”. When the function asks if you would like it to create the repository on GitHub for you, enter <code>y</code> for “yes”. This will open your web browser so that you can authenticate with GitHub and then give permission for workflowr to create the repository on your behalf. Additionally, this function connects to your local repository with the remote GitHub repository and inserts a link to the GitHub repository into the navigation bar. If this fails to create a GitHub repository, go to <a href="#no-repo">Troubleshooting</a>.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/wflow_use_github.html">wflow_use_github</a></span><span class="op">(</span><span class="st">"your-github-username"</span><span class="op">)</span></code></pre></div>
</li>
<li>
<p>To update your workflowr website to use GitHub links to past versions of the files (as well as update the navigation bar to include the GitHub link), republish the files.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/wflow_publish.html">wflow_publish</a></span><span class="op">(</span>republish <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
</li>
<li>
<p>To send your project to GitHub, run <code><a href="../reference/wflow_git_push.html">wflow_git_push()</a></code>. This will prompt you for your GitHub username and password. If this fails, go to <a href="#failed-push">Troubleshooting</a>.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/wflow_git_push.html">wflow_git_push</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</li>
<li>
<p>On GitHub, navigate to the Settings tab of your GitHub repository<a href="#fn9" class="footnote-ref" id="fnref9"><sup>9</sup></a>. Scroll down to the section “GitHub Pages”. For Source choose “master branch /docs folder”. After it updates, scroll back down and click on the URL. If the URL doesn’t display your website, go to <a href="#no-gh-pages">Troubleshooting</a>.</p>
<p><img src="img/github-pages-settings.png" width="75%" style="display: block; margin: auto;"></p>
</li>
<li>
<p>Navigate to the tooth analysis. Click on the links in the “Past versions” tab to see the past results. Click on the HTML hyperlink to view the past version of the HTML file. Click on the Rmd hyperlink to view the past version of the Rmd file on GitHub.</p>
<p><img src="img/workflowr-past-versions-2.png" width="75%" style="display: block; margin: auto;"></p>
</li>
</ol>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>You have successfully created and shared a reproducible research website. Using the same workflowr commands, you can do the same for one of your own research projects and share it with collaborators and colleagues.</p>
<p>To learn more about workflowr, you can read the following vignettes:</p>
<ul>
<li><a href="wflow-02-customization.html">Customize your research website</a></li>
<li><a href="wflow-03-migrating.html">Migrating an existing project to use workflowr</a></li>
<li><a href="wflow-04-how-it-works.html">How the workflowr package works</a></li>
<li><a href="wflow-05-faq.html">Frequently asked questions</a></li>
<li><a href="wflow-06-gitlab.html">Hosting workflowr websites using GitLab</a></li>
<li><a href="wflow-07-common-code.html">Sharing common code across analyses</a></li>
<li><a href="wflow-08-deploy.html">Alternative strategies for deploying workflowr websites</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="troubleshooting">Troubleshooting<a class="anchor" aria-label="anchor" href="#troubleshooting"></a>
</h2>
<div class="section level3">
<h3 id="missing-template">I don’t see the workflowr project as an available RStudio Project Type.<a class="anchor" aria-label="anchor" href="#missing-template"></a>
</h3>
<p>If you just installed workflowr, close and re-open RStudio. Also, make sure you scroll down to the bottom of the list.</p>
</div>
<div class="section level3">
<h3 id="no-repo">The GitHub repository wasn’t created automatically by <code>wflow_use_github()</code>.<a class="anchor" aria-label="anchor" href="#no-repo"></a>
</h3>
<p>If <code><a href="../reference/wflow_use_github.html">wflow_use_github()</a></code> failed unexpectedly when creating the GitHub repository, or if you declined by entering <code>n</code>, you can manually created the repository on GitHub. After logging in to GitHub, click on the “+” in the top right of the page. Choose “New repository”. For the repository name, type <code>myproject</code>. Do not change any of the other settings. Click on the green button “Create repository”. Once that is completed, you can return to the next step in the tutorial.</p>
<p><img src="img/github-new-repo.png" width="25%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="failed-push">I wasn’t able to push to GitHub with <code>wflow_git_push()</code>.<a class="anchor" aria-label="anchor" href="#failed-push"></a>
</h3>
<p>Unfortunately this function has a high failure rate because it relies on the correct configuration of various system software dependencies. If this fails, you can push to Git using another technique, but this will require that you have previously installed Git on your computer. For example, you can use the RStudio Git pane (click on the green arrow that says “Push”). Alternatively, you can directly use Git by running <code>git push</code> in the terminal.</p>
</div>
<div class="section level3">
<h3 id="no-gh-pages">My website isn’t displaying after I activated GitHub Pages.<a class="anchor" aria-label="anchor" href="#no-gh-pages"></a>
</h3>
<p>It is not uncommon for there to be a short delay before your website is available. One trick to try is to specify the exact page that you want at the end of the URL, e.g. add <code>/index.html</code> to the end of the URL.</p>
</div>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>The default behavior when <code><a href="../reference/wflow_build.html">wflow_build()</a></code> is run without any arguments is to build any R Markdown file that has been edited since its corresponding HTML file was last built.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>While not the most realistic, this avoids any issues with downloading data from the internet and saving it correctly.<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p><a href="https://en.wikipedia.org/wiki/YAML" class="external-link">YAML</a> is a mini-language often used in configuration files.<a href="#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p>You can insert a code chunk via the menu bar, <code>Code</code> -&gt; <code>Insert Chunk</code>, or using the keyboard shortcut (<code>Ctrl</code>+<code>Alt</code>+<code>I</code> on Windows and Linux, <code>Command</code>+<code>Option</code>+<code>I</code> on macOS).<a href="#fnref4" class="footnote-back">↩︎</a></p></li>
<li id="fn5"><p>Note that the default working directory for a workflowr project is the root of the project. Hence the relative path is <code>data/teeth.csv</code>. The working directory can be changed via the workflowr option <code>knit_root_dir</code> in <code>_workflowr.yml</code>. See <code><a href="../reference/wflow_html.html">?wflow_html</a></code> for more details.<a href="#fnref5" class="footnote-back">↩︎</a></p></li>
<li id="fn6"><p>You won’t implement the full permutation method in this tutorial.<a href="#fnref6" class="footnote-back">↩︎</a></p></li>
<li id="fn7"><p>Note that everyone in the workshop will have the same result because by default workflowr uses a seed that is the date the project was created as YYYYMMDD. You can change this by editing the file <code>_workflowr.yml</code>.<a href="#fnref7" class="footnote-back">↩︎</a></p></li>
<li id="fn8"><p>The command uses the wildcard character <code>*</code> to match all the Rmd files in <code>analysis/</code>. If this fails on your computer, try running the more verbose command: <code>wflow_publish(c("analysis/index.Rmd", "analysis/teeth.Rmd", "data/teeth.csv"), message = "Analyze teeth growth")</code><a href="#fnref8" class="footnote-back">↩︎</a></p></li>
<li id="fn9"><p>If your GitHub repository wasn’t automatically opened by <code><a href="../reference/wflow_git_push.html">wflow_git_push()</a></code>, you can manually enter the URL into the browser: <code>https://github.com/username/myproject</code>.<a href="#fnref9" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by John Blischak, Peter Carbonetto, Matthew Stephens.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.0.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
